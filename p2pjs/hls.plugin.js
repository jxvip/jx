!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){e.exports=n(120)},function(e,t){"use strict";function n(){function e(){var e=r()-i;return e<0?0:e}function t(){return"Stopwatch("+e()+"ms)"}function n(){return i}var o=Object.create(null),i=r();return o.elapsed=e,o.toString=t,o.epoch=n,o}var r=function(){return Math.floor(performance.now())};e.exports=n,e.exports.now=r},function(e,t,n){"use strict";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,r||e,i),s=c?c+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],a]:e._events[s].push(a):(e._events[s]=a,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}var u=Object.prototype.hasOwnProperty,c="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(c=!1)),s.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)u.call(e,t)&&n.push(c?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},s.prototype.listeners=function(e){var t=c?c+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,i=new Array(o);r<o;r++)i[r]=n[r].fn;return i},s.prototype.listenerCount=function(e){var t=c?c+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,r,o,i){var a=c?c+e:e;if(!this._events[a])return!1;var s,u,d=this._events[a],l=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),l){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,r),!0;case 5:return d.fn.call(d.context,t,n,r,o),!0;case 6:return d.fn.call(d.context,t,n,r,o,i),!0}for(u=1,s=new Array(l-1);u<l;u++)s[u-1]=arguments[u];d.fn.apply(d.context,s)}else{var f,p=d.length;for(u=0;u<p;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),l){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,n);break;case 4:d[u].fn.call(d[u].context,t,n,r);break;default:if(!s)for(f=1,s=new Array(l-1);f<l;f++)s[f-1]=arguments[f];d[u].fn.apply(d[u].context,s)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,n,r){var o=c?c+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var i=this._events[o];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||a(this,o);else{for(var s=0,u=[],d=i.length;s<d;s++)(i[s].fn!==t||r&&!i[s].once||n&&i[s].context!==n)&&u.push(i[s]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=c?c+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=c,s.EventEmitter=s,e.exports=s},function(e,t,n){"use strict";function r(e){var t=window.peer5,n=t?t.getConfig("MEDIA_MAX_BUFFER_HOLE"):.5,r=o(e.buffered,e.currentTime,n);return r.timeAhead}var o=n(17);e.exports=r},function(e,t){"use strict";e.exports=function(e,t,n){function r(e,t){return o.multiple?[].slice.call(e.querySelectorAll(t)):e.querySelector(t)}var o=n||{},i=t;return i="string"==typeof i?document.getElementById(i):i,i=i?i.tagName.toLowerCase()!==e?r(i,e):i:r(document,e),o.multiple&&(i=Array.isArray(i)?i:i&&[i]||[],i=i.length?i:null),i}},function(e,t){"use strict";e.exports=function(e,t){var n=e;return t&&t.ignoreQuery===!1||(n=(e||"").split("?")[0]),/\.m3u8(\?|#|$)/.test(n)?"hls":/\.mpd(\?|#|$)/.test(n)?"dash":/^(blob|mediasource):/i.test(n)?"mse":/\.(mp4|webm|ogg|ogv)(\?|#|$)/i.test(n)?"progressive":""}},function(e,t){"use strict";function n(e){function t(){return!e.globalsCondition||e.globalsCondition.every(function(e){return"undefined"!=typeof window[e]})}function n(){a||o||e.condition&&!e.condition()||t()&&(o=!0,r(),e.onConditionsMet())}function r(){a||(a=!0,clearInterval(i),document.removeEventListener("readystatechange",n),window.removeEventListener("load",n),e.globalsCondition&&Object.keys(s).forEach(function(e){var t=s[e],n=Object.getOwnPropertyDescriptor(window,e);n&&n.set===t&&delete window[e]}))}var o,i,a,s={},u=e.checkInterval||1;return i=setInterval(n,u),document.addEventListener("readystatechange",n),window.addEventListener("load",n),e.globalsCondition&&e.globalsCondition.forEach(function(e){function t(t){delete s[e],Object.defineProperty(window,e,{value:t,writable:!0,configurable:!0,enumerable:!0}),n()}"undefined"==typeof window[e]&&(s[e]=t,Object.defineProperty(window,e,{configurable:!0,enumerable:!0,set:t}))}),n(),{stop:r}}e.exports=n},function(e,t,n){"use strict";function r(e){function t(e,t){p.emit(e,y(e,t))}function n(e){var t=e&&e.tagName&&e.tagName.toLowerCase();t&&/^(video|audio|object|embed)$/.test(t)&&(h=t,g=e)}function r(){if("function"==typeof f.getBufferLength)return f.getBufferLength();switch(h){case"video":case"audio":return a(g);case"object":case"embed":return s(g);default:return 0}}function o(e){f=c({},f,e),f.element&&n(f.element)}function l(){p.emit("remove"),p.removeAllListeners()}var f,p=new i;p.instanceId=d++;var g,h,y=u(p.instanceId);return o(e),p.onEvent=t,p.getBufferLength=r,p.useElement=n,p.mergeOptions=o,p.destroy=l,p}function o(e,t){var n=l[e];return n?t&&n.mergeOptions(t):n=l[e]=r(t),n}var i=n(2),a=n(3),s=n(14),u=n(15),c=n(11),d=1,l={};e.exports=o},function(e,t){"use strict";function n(){function e(e,t){var n=window.peer5&&window.peer5.logger&&window.peer5.logger[e];n&&n.apply(window.peer5.logger,t)}function t(){e("info",arguments)}function n(){e("warn",arguments)}function r(){e("error",arguments)}var o=Object.create(null);return o.info=t,o.warn=n,o.error=r,o}e.exports=n},function(e,t,n){"use strict";var r=n(4);e.exports=function(e){var t,n=e||{};return("string"==typeof e||e instanceof HTMLElement)&&(n={id:e}),t=r("video",n.id,{multiple:n.multiple}),n.includeAudioTag&&!t&&(t=r("audio",n.id,{multiple:n.multiple})),n.html5Only||t||(t=r("object",n.id,{multiple:n.multiple})),n.html5Only||t||(t=r("embed",n.id,{multiple:n.multiple})),t}},function(e,t,n){"use strict";function r(e,t,n){function r(e){g=e,T&&T.destroy(),T=c(t,h),v&&v.destroy(),v=u(g,function(e){T.stateChanged(e)},h),y&&y.destroy(),y=i(g,function(e){T.stateChanged(e)},h),E&&E.destroy(),E=d(g,function(e){switch(e){case"play":T.stateChanged({play:!0});break;case"playing":T.stateChanged({playing:!0});break;case"pause":T.stateChanged({paused:!0})}}),m&&m.destroy(),m=a(g,function(e,n){T.adPlaying||t(e,n)},h),b=s(g,function(e,n){T.adPlaying||t(e,n)}),_&&(_=!1,T.stateChanged({play:!0}))}function l(){T?(_=!1,T.stateChanged({play:!0})):_=!0}function f(){T&&T.destroy(),v&&v.destroy(),y&&y.destroy(),m&&m.destroy(),b&&b.destroy(),E&&E.destroy(),clearTimeout(w)}function p(e,n){n&&t("ready");var i=o("video",e)||o("audio",e);i&&r(i)}var g,h=n||{};h.droppedFramesSampleRate=h.droppedFramesSampleRate||5e3,h.droppedFramesThreshold=h.droppedFramesThreshold||.2,h.bitsDecodedSampleRate=h.bitsDecodedSampleRate||5e3,h.loadStartMaxDelay=h.loadStartMaxDelay||4e3;var y,v,m,b,w,E,T,_=!1;return w=setTimeout(function(){g||p(e,!0)},0),{forceLoadStart:l,useElement:p,destroy:f}}var o=n(4),i=n(26),a=n(25),s=n(23),u=n(22),c=n(27),d=n(24);e.exports=r},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,u=n(e),c=1;c<arguments.length;c++){r=Object(arguments[c]);for(var d in r)i.call(r,d)&&(u[d]=r[d]);if(o){s=o(r);for(var l=0;l<s.length;l++)a.call(r,s[l])&&(u[s[l]]=r[s[l]])}}return u}},function(e,t,n){"use strict";function r(e){function t(){if(c&&(c.destroy(),c=null),s&&(s.destroy(),s=null),r){var e=r;r=null,e.destroy()}}function n(e){u!==e&&(u=e,r?(s.useElement(e),r.useElement(e),r.emit("newMediaElement",{tagName:e.tagName.toLowerCase()})):(r=o("videoTag",{element:e}),window.peer5.attachPlayer(r),r.emit("media.info",{vendor:d.vendor||"videoTag",tracking:"videoTag",provider:d.provider,mediaElement:e.tagName.toLowerCase(),mediaSrc:e.src||e.currentSrc}),r.on("remove",function(){r&&t()}),s=i(e,r.onEvent,{allowProgressiveVideos:d.allowProgressiveVideos,ignoreQuery:d.ignoreQuery})))}var r,s,u,c,d=e||{};return c=a({interval:window.peer5.getConfig("VIDEOTAG_SEARCH_INTERVAL"),allowProgressiveVideos:d.allowProgressiveVideos,ignoreQuery:d.ignoreQuery}),c.on("elementDiscovered",n),{destroy:t}}var o=n(7),i=n(10),a=n(19);e.exports=r},function(e,t){"use strict";e.exports=window.XMLHttpRequest,e.exports.__KEEP__=!0},function(e,t){"use strict";e.exports=function(e){if(e.getbufferLength)try{return e.getbufferLength()}catch(e){}if(e.vjs_getProperty)try{return(e.vjs_getProperty("buffered")||NaN)-(e.vjs_getProperty("currentTime")||NaN)||0}catch(e){}return 0}},function(e,t,n){"use strict";function r(e){var t=null,n=null,r=null,i=null,a=null,s=null,u=0,c=0;return function(d,l){var f={action:d,id:e};switch(s=s||o(),d){case"rebuffer.start":a=a||o(),u++,t=o(),f.timeSinceLoaded=a.elapsed(),f.occurrence=u;break;case"rebuffer.end":a=a||o(),t&&(f.duration=t.elapsed()),f.timeSinceLoaded=a.elapsed(),f.occurrence=u,t=null;break;case"seek.start":a=a||o(),c++,n=o(),f.timeSinceLoaded=a.elapsed(),f.occurrence=c;break;case"seek.end":a=a||o(),n&&(f.duration=n.elapsed()),f.timeSinceLoaded=a.elapsed(),f.occurrence=c,n=null;break;case"load.start":var p=l&&l.delayed||0;r=r||o(),i=p,f.timeSinceReady=s.elapsed()-p,a&&(f.timeSinceLoaded=a.elapsed());break;case"load.end":if(!(a||l&&l.ignoreDuration===!0)){var g=r&&r.elapsed()+(i||0);i=null,g&&(f.duration=g)}a&&(f.timeSinceLoaded=a.elapsed()),a=a||o();break;case"fps.drop":case"fps.drop.raw":case"bitsDecoded":l&&l.count&&(f.value=l.count);break;case"ready":case"pause.start":case"pause.end":break;case"error":l instanceof Error?f=l:(f.source=l.source,f.code=l.code,f.message=l.message);break;case"ad.start":case"ad.end":f=null;break;default:f=null}return f}}var o=n(1);e.exports=r},function(e,t){"use strict";function n(e){if("number"==typeof e.webkitDroppedFrameCount)return{total:e.webkitDecodedFrameCount,dropped:e.webkitDroppedFrameCount};if("function"==typeof e.getVideoPlaybackQuality){var t=e.getVideoPlaybackQuality();if("number"==typeof t.droppedVideoFrames)return{total:t.totalVideoFrames,dropped:t.droppedVideoFrames}}return"number"==typeof e.mozDecodedFrames&&"number"==typeof e.mozPresentedFrames?{total:e.mozDecodedFrames,dropped:e.mozDecodedFrames-e.mozPresentedFrames}:{total:0,dropped:0}}e.exports=n},function(e,t){"use strict";function n(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t.sort(function(e,t){var n=e.start-t.start;return n?n:t.end-e.end}),t}function r(e,t){return e.reduce(function(e,n){var r=e.length;if(r){var o=e[r-1];if(n.start-o.end<t)return n.end>o.end&&(o.end=n.end),e}return e.push({start:n.start,end:n.end}),e},[])}function o(e,t,o){for(var i=o||0,a=t||0,s=n(e),u=r(s,i),c={rangeStart:0,rangeEnd:0,rangeLength:0,timeAhead:0},d=0,l=u.length;d<l;d++){var f=u[d].start,p=u[d].end,g=Math.ceil(1e3*a)/1e3,h=Math.ceil(1e3*f)/1e3,y=Math.ceil(1e3*p)/1e3;if(g+i>=h&&g<=y){c.rangeStart=Math.min(h,g),c.rangeEnd=y,c.rangeLength=y-c.rangeStart,c.timeAhead=y-g;break}}return c}e.exports=o},function(e,t){"use strict";function n(){return window.location.href}function r(){return window.navigator&&window.navigator.connection&&window.navigator.connection.type}function o(){var e;return["hidden","webkitHidden","mozHidden","oHidden","msHidden"].some(function(t){return t in document&&(e=t,!0)}),e}function i(){var e;return["visibilityState","webkitVisibilityState","mozVisibilityState","oVisibilityState","msVisibilityState"].some(function(t){return t in document&&(e=t,!0)}),e}function a(){var e=o(),t=i();return{hidden:e&&document[e],visibilityState:t&&document[t]}}t.getLocationHref=n,t.getConnectionType=r,t.getDocumentVisibility=a},function(e,t,n){"use strict";function r(e){function t(e){var t=a(e.currentSrc||e.src,{ignoreQuery:c.ignoreQuery});return"mse"===t||"hls"===t||"dash"===t||!(!c.allowProgressiveVideos||"progressive"!==t)}function n(e){return(!e.className||e.className.indexOf("hola_video_preview")===-1)&&((!e.previousElementSibling||e.previousElementSibling.className.indexOf("hola_preview_")===-1)&&(!e.parentNode||e.parentNode.className.indexOf("hola_preview_")===-1))}function r(e,t){return!e.paused&&t.paused?-1:!t.paused&&e.paused?1:e.currentTime>t.currentTime?-1:t.currentTime>e.currentTime?1:0}function s(){var e=o({html5Only:!0,includeAudio:!0,multiple:!0});e&&(e=e.filter(t),e=e.filter(n),e.length>1&&(e=e.sort(r)),e.length&&l!==e[0]&&(l=e[0],f.emit("elementDiscovered",e[0])))}function u(){clearInterval(d),f.removeAllListeners(),l=null}var c=e||{};c.interval=c.interval||1e3,c.allowProgressiveVideos=Boolean(c.allowProgressiveVideos);var d,l,f=new i;return d=setInterval(s,c.interval),f.destroy=u,f}var o=n(9),i=n(2),a=n(5);e.exports=r},function(e,t,n){"use strict";function r(){return!!i()&&(!o.isFocused()&&!o.isVisible()&&!o.isAudioPlaying())}var o=n(28),i=n(29);e.exports=r},function(e,t){"use strict";function n(e){var t=8*e.webkitVideoDecodedByteCount||0,n=8*e.webkitAudioDecodedByteCount||0;return t||n?{video:t,audio:n,total:t+n}:{video:0,audio:0,total:0}}e.exports=n},function(e,t,n){"use strict";function r(e,t,n){function r(e){return"progressive"===e&&(g||h||y)}function i(){var n=e.currentSrc||e.src;if(n){var i=o(n,{ignoreQuery:d.ignoreQuery}),a=f&&"hls"===i,s=p&&"dash"===i,u=d.allowProgressiveVideos&&r(i),l="mse"===i,g=/^(blob|mediasource):(https?(%3A|:)\/\/)[^\/]*youtube\.com\//i.test(n);a||s||l&&!g||u?c&&(c=!1,t({adPlaying:!1})):c||(c=!0,t({adPlaying:!0}))}}function a(){l.forEach(function(t){e.addEventListener(t,i)})}function s(){l.forEach(function(t){e.removeEventListener(t,i)})}function u(){s()}var c,d=n||{},l=["abort","canplay","canplaythrough","durationChange","emptied","encrypted","ended","error","interruptbegin","interruptend","loadeddata","loadedmetadata","seeked","seeking","volumechange","waiting","loadstart","pause","play","playing","suspend"],f=e.canPlayType&&(e.canPlayType("application/x-mpegURL")||e.canPlayType("vnd.apple.mpegURL")||e.canPlayType("audio/mpegurl"));f=Boolean(f);var p=Boolean(e.canPlayType&&e.canPlayType("application/dash+xml")),g=Boolean(e.canPlayType&&e.canPlayType("video/mp4")),h=Boolean(e.canPlayType&&e.canPlayType("video/webm")),y=Boolean(e.canPlayType&&e.canPlayType("video/ogg"));return a(),i(),{destroy:u}}var o=n(5);e.exports=r},function(e,t){"use strict";function n(e,t){function n(){var n,o=e.error;Object.keys(r).some(function(e){return!(!o||r[e]!==o.code)&&(n=e,!0)}),t("error",{source:"videoTag",code:n||"UNKNOWN_ERROR_"+(o&&o.code||"UNDEFINED"),message:o&&o.message||""})}function o(){e.removeEventListener("error",n)}return e.addEventListener("error",n),{destroy:o}}var r={MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4};e.exports=n},function(e,t){"use strict";function n(e,t){function n(){Object.keys(r).forEach(function(t){e.removeEventListener(t,r[t])})}var r={playing:function(){t("playing")},canplaythrough:function(){!e.paused&&e.currentTime&&t("playing")},progress:function(){!e.paused&&e.currentTime&&t("playing")},pause:function(){t("pause")},play:function(){t("play")}};return Object.keys(r).forEach(function(t){e.addEventListener(t,r[t])}),!e.paused&&e.currentTime?r.playing():!e.paused&&e.autoplay&&r.play(),{destroy:n}}e.exports=n},function(e,t,n){"use strict";function r(e,t,n){function r(){clearInterval(a),clearInterval(s)}var a,s,u={},c={};return a=setInterval(function(){var r=o(e),i=r.total-u.total,a=r.dropped-u.dropped;a>0&&t("fps.drop.raw",{count:a}),i&&a>0&&a/i>n.droppedFramesThreshold&&t("fps.drop",{count:a}),u=r},n.droppedFramesSampleRate),s=setInterval(function(){var n=i(e),r=n.total-c.total;r>0&&t("bitsDecoded",{count:r}),c=n},n.bitsDecodedSampleRate),{destroy:r}}var o=n(16),i=n(21);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){function r(){var t=o(e),n=!N&&F!==t;return N=!1,F=t,n}function s(){return!(!e.paused||!q&&!U)&&r()}function u(){var e=i();e&&!j?(j=!0,t({background:!0})):!e&&j&&(j=!1,t({background:!1}))}function c(){return I&&R===I&&!x&&!O}function d(){return V||(V=R),R-V>=A}function l(){return O}function f(){return H}function p(){return!c()&&(B=null,!!q&&(l()||f()||d()))}function g(){return!!c()&&(V=null,!q&&(B||(B=a()),B.elapsed()>=P))}function h(){g()?(q=!0,B=null,t({rebuffering:!0})):p()&&(q=!1,V=null,t({rebuffering:!1}))}function y(){return D&&!x}function v(){return z||(z=R),R-z>k}function m(){return H}function b(){return!y()&&(G=null,!!U&&(m()||v()))}function w(){if(y())return z=null,!U&&(G||(G=a()),G.elapsed()>M)}function E(){w()?(U=!0,G=null,t({seeking:!0})):b()&&(U=!1,z=null,t({seeking:!1}))}function T(){clearInterval(S),S=setInterval(function(){e.paused||(N=!0),(!e.paused||q||U)&&(R=1e3*e.currentTime,x=e.paused,D=e.seeking,O=D||U,H=s(),u(),h(),E(),I=R)},L)}function _(){clearInterval(S)}var S,R,x,D,O,I,C=n||{},L=C.sampleRate||50,P=C.bufferEnterThreshold||250,A=C.bufferExitThreshold||250,M=C.seekEnterThreshold||250,k=C.seekExitThreshold||100,N=!0,j=!1,F=null,H=!1,q=!1,B=null,V=null,U=!1,G=null,z=null;return T(),{destroy:_}}var o=n(3),i=n(20),a=n(1);e.exports=r},function(e,t,n){"use strict";function r(e,t){function n(t){if(!c.loaded){var n=t||{},r=n.ignoreDuration||!1;if(c.loading||!n.cancelIfPossible){if(c.loading||(r=!0),!d&&n.cancelIfPossible)return c.loading=!1,u=null,void clearTimeout(s);d||(d=!0,clearTimeout(s),e("load.start",{delayed:u&&u.elapsed()||0})),c.loaded=!0,e("load.end",{ignoreDuration:r})}}}function r(){n({ignoreDuration:!0,cancelIfPossible:!0}),c.rebuffering&&(c.rebuffering=!1,e("rebuffer.end")),c.seeking&&(c.seeking=!1,e("seek.end")),!c.loading&&!c.loaded||c.paused||(c.paused=!0,e("pause.start"))}function i(){clearTimeout(s),a({adPlaying:!1,paused:!0})}function a(e){Object.keys(e).forEach(function(t){f[t](e[t])})}var s,u,c={paused:!1,loading:!1,loaded:!1,rebuffering:!1,seeking:!1,adPlaying:!1,background:!1},d=!1,l=!1,f={paused:function(t){c.paused!==Boolean(t)&&(c.adPlaying||(t?r({ignoreDuration:!0}):(c.paused=!1,e("pause.end"))))},play:function(n){c.adPlaying||n&&(c.loaded||c.loading!==Boolean(n)&&(u=o(),c.loading=!0,s=setTimeout(function(){d=!0,e("load.start",{delayed:u&&u.elapsed()||0})},t.loadStartMaxDelay)))},playing:function(){c.adPlaying||(n(),f.paused(!1))},adPlaying:function(t){c.adPlaying!==Boolean(t)&&(t?(c.loading&&!c.loaded,r(),c.adPlaying=!0,e("ad.start")):(c.adPlaying=!1,e("ad.end")))},background:function(t){c.background!==Boolean(t)&&(t?(c.rebuffering&&(l=!0,c.rebuffering=!1,e("rebuffer.end")),c.background=!0):(!c.rebuffering&&l&&(c.rebuffering=!0,e("rebuffer.start")),c.background=!1))},rebuffering:function(t){c.rebuffering!==Boolean(t)&&(c.adPlaying||(t?c.background?l=!0:(c.rebuffering=!0,e("rebuffer.start")):c.background?l=!1:(c.rebuffering=!1,e("rebuffer.end"))))},seeking:function(t){c.seeking!==Boolean(t)&&(c.adPlaying||(t?(n({ignoreDuration:!0}),c.seeking=!0,e("seek.start")):(c.seeking=!1,e("seek.end"))))}},p={};return Object.keys(c).forEach(function(e){Object.defineProperty(p,e,{get:function(){return c[e]}})}),p.stateChanged=a,p.destroy=i,p}var o=n(1);e.exports=r},function(e,t,n){"use strict";function r(){function e(){return"function"==typeof document.hasFocus?document.hasFocus():void 0}function t(){var e=o.getDocumentVisibility();return"boolean"==typeof e.hidden?!e.hidden:void 0!==e.visibilityState?"visible"===e.visibilityState:void 0}function n(){var e=[].concat([].slice.call(document.querySelectorAll("video")),[].slice.call(document.querySelectorAll("audio")));return e.some(function(e){return!e.paused&&!e.muted&&Boolean(e.played&&e.played.length)})}return{isFocused:e,isVisible:t,isAudioPlaying:n}}var o=n(18);e.exports=r(),e.exports.factory=r},function(e,t){"use strict";function n(){return Boolean(window.chrome)}e.exports=n},function(e,t,n){"use strict";function r(e){s.info("Initializing XHR plugin");var t=window.peer5;return t.getConfig("DISABLE_PLUGINS")||t.getConfig("DISABLE_UNSUPPORTED")&&!t.isSupported()?void s.warn("Aborting XHR plugin initialization because Peer5 is not supported or disabled"):(window.XMLHttpRequest=t.CatchAllVideoRequest,t.configure({abr:"transparent"}),t.on&&(t.on("destroy",function(){window.XMLHttpRequest=a}),t.on("init",function(){window.XMLHttpRequest=t.CatchAllVideoRequest})),i({vendor:e&&e.vendor}),void s.info("Finished XHR plugin initialization"))}var o=n(6),i=n(12),a=n(13),s=n(8)();e.exports=function(e){o({onConditionsMet:function(){r(e)},globalsCondition:["peer5"]})}},function(e,t,n){"use strict";function r(e){var t;this.destroy=function(){t&&t.destroy()},this.abort=function(){t&&t.abort()},this.load=function(){t=3===arguments.length?new i(e):new o(e),t.load.apply(t,arguments),this.context=t.context,this.stats=t.stats,this.frag=t.frag}}var o=n(32),i=n(33);e.exports=r},function(e,t){"use strict";function n(e,t,n,r){var o=Math.max(n,r()-window.peer5.getConfig("MINIMUM_HTTP_CONSTRAINT"));[t,e].forEach(function(t){Object.defineProperty(t,"trequest",{configurable:!0,set:function(){},get:function(){return e._delay?performance.now()-e._delay:o}})})}function r(e,t){if(e.currentTarget.getSpeed){var n=t,r=e.currentTarget.getSpeed();r&&(n._delay=1e3*(e.loaded/r),n.tfirst=n.trequest)}}function o(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup),this.destroy=function(){this.abort(),this.loader=null},this.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},this.load=function(e,t,n,r,o,i,a,s,u,c){this.url=e,!c||Number.isNaN(c.byteRangeStartOffset)||Number.isNaN(c.byteRangeEndOffset)||(this.byteRange=c.byteRangeStartOffset+"-"+(c.byteRangeEndOffset-1)),this.responseType=t,this.onSuccess=n,this.onProgress=u,this.onTimeout=o,this.onError=r,this._trequest=performance.now(),this.stats={trequest:this._trequest,retry:0},this.timeout=window.peer5.getConfig("MEDIA_FRAGMENT_TIMEOUT")||i,this.maxRetry=a,this.retryDelay=s,this.frag=c,this.loadInternal()},this.loadInternal=function(){var e;e="arraybuffer"===this.responseType?this.loader=new window.peer5.FragmentRequest:this.loader=new window.peer5.PlaylistRequest,e.onprogress=this.loadprogress.bind(this),e.onloadend=this.loadend.bind(this),e.open("GET",this.url,!0),this.byteRange&&e.setRequestHeader("Range","bytes="+this.byteRange),e.responseType=this.responseType;var t=this.stats;t.tfirst=0,t.loaded=0,this.xhrSetup&&this.xhrSetup(e,this.url),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.timeout),e.send(),e._constraint&&window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&n(t,this.frag,this._trequest,e._constraint)},this.loadend=function(e){var t=e.currentTarget,n=t.status,o=this.stats;o.aborted||(window.clearTimeout(this.requestTimeout),n>=200&&n<300?(window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&r(e,o),o.tload=Math.max(o.tfirst,performance.now()),this.onSuccess(e,o)):o.retry>=this.maxRetry||n>=400&&n<499?this.onError(e):(this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,64e3),o.retry++))},this.loadtimeout=function(e){this.onTimeout(e,this.stats)},this.loadprogress=function(e){var t=this.stats;e.loadedHTTP>0&&window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&r(e,t),0===t.tfirst&&(t.tfirst=Math.max(performance.now(),t.trequest)),t.loaded=e.loaded,this.onProgress&&this.onProgress(e,t)}}e.exports=o},function(e,t){"use strict";function n(e,t,n){var r=Math.max(t,n()-window.peer5.getConfig("MINIMUM_HTTP_CONSTRAINT"));Object.defineProperty(e,"trequest",{configurable:!0,set:function(){},get:function(){return e._delay?performance.now()-e._delay:r}})}function r(e,t){if(e.currentTarget.getSpeed){var n=e.currentTarget.getSpeed();n&&(t._delay=1e3*(e.loaded/n),t.tfirst=t.trequest)}}function o(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup),this.destroy=function(){this.abort(),this.loader=null},this.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},this.load=function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.trequest=performance.now(),this.stats={trequest:this.trequest,retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},this.loadInternal=function(){var e,t=this.context;e="arraybuffer"===t.responseType?this.loader=new window.peer5.FragmentRequest:this.loader=new window.peer5.PlaylistRequest;var r=this.stats;r.tfirst=0,r.loaded=0,e.getSpeed&&window.peer5.getConfig("ALWAYS_OVERRIDE_BW")&&(r.bw=e.getSpeed());var o=this.xhrSetup;try{if(o)try{o(e,t.url)}catch(n){e.open("GET",t.url,!0),o(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(n){return void this.callbacks.onError({code:e.status,text:n.message},t)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType;var i=window.peer5.getConfig("MEDIA_FRAGMENT_TIMEOUT")||this.config.timeout;this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),i),e.send(),e._constraint&&window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&n(r,this.trequest,e._constraint)},this.readystatechange=function(e){var t=e.currentTarget,n=t.readyState,o=this.stats,i=this.context,a=this.config;if(!o.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===o.tfirst&&(o.tfirst=Math.max(performance.now(),o.trequest)),4===n){var s=t.status;if(s>=200&&s<300){window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&r(e,o),o.tload=Math.max(o.tfirst,performance.now());var u,c;"arraybuffer"===i.responseType?(u=t.response,c=u.byteLength):(u=t.responseText,c=u.length),t.getSpeed&&(o.bw=t.getSpeed()),o.loaded=o.total=c;var d={url:t.responseURL||i.url,data:u};this.callbacks.onSuccess(d,o,i,t)}else o.retry>=a.maxRetry||s>=400&&s<499?this.callbacks.onError({code:s,text:t.statusText},i,t):(this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),o.retry++)}else{var l=window.peer5.getConfig("MEDIA_FRAGMENT_TIMEOUT")||this.config.timeout;this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),l||a.timeout)}},this.loadtimeout=function(){this.callbacks.onTimeout(this.stats,this.context,null)},this.loadprogress=function(e){var t=e.currentTarget,n=this.stats;e.loadedHTTP>0&&window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&r(e,n),n.loaded=e.loaded,t.getSpeed&&(n.bw=t.getSpeed()),e.lengthComputable&&(n.total=e.total);var o=this.callbacks.onProgress;o&&o(n,this.context,null,t)}}e.exports=o},function(e,t,n){"use strict";function r(e){var t=window.peer5,n=e.DefaultConfig;n.fLoader=o,n.pLoader=o,n.maxBufferLength=n.maxMaxBufferLength=t.getConfig("MEDIA_MAXBUFFER"),n.maxBufferHole=t.getConfig("MEDIA_MAX_BUFFER_HOLE"),n.maxSeekHole=t.getConfig("MEDIA_MAX_SEEK_HOLE"),n.manifestLoadingTimeOut=n.levelLoadingTimeOut=t.getConfig("MEDIA_MANIFEST_TIMEOUT"),n.manifestLoadingMaxRetry=n.levelLoadingMaxRetry=t.getConfig("MEDIA_MANIFEST_RETRIES"),n.manifestLoadingRetryDelay=n.levelLoadingRetryDelay=t.getConfig("MEDIA_MANIFEST_RETRY_DELAY"),n.fragLoadingTimeOut=t.getConfig("MEDIA_FRAGMENT_TIMEOUT"),n.fragLoadingMaxRetry=t.getConfig("MEDIA_FRAGMENT_RETRIES"),n.fragLoadingRetryDelay=t.getConfig("MEDIA_FRAGMENT_RETRY_DELAY"),n.debug=t.getConfig("MEDIA_HLSJS_DEBUG"),e.DefaultConfig=n}var o=n(31);e.exports=r},function(e,t){"use strict";function n(e,t,n){t.on(e.Events.ERROR,function(t,r){var o;Object.keys(e.ErrorTypes).some(function(t){return e.ErrorTypes[t]===r.type&&(o=t,!0)});var i;if(Object.keys(e.ErrorDetails).some(function(t){return e.ErrorDetails[t]===r.details&&(i=t,!0)}),o||i){var a=o?o.replace("_ERROR","")+"_":"",s=i||"ERROR",u=r.fatal?"_FATAL":"",c=a+s+u;n("error",{source:"hlsjs",code:c})}});var r=!1;t.on(e.Events.FRAG_LOAD_EMERGENCY_ABORTED,function(){r=!0,n("error",{source:"hlsjs",code:"EMERGENCY_SWITCH"})});var o=!0;t.on(e.Events.LEVEL_SWITCHED,function(){return o?void(o=!1):r?void(r=!1):void(t.autoLevelEnabled&&n("error",{source:"hlsjs",code:"ABR_SWITCH"}))})}e.exports=n},,,,,,,,,,function(e,t){"use strict";function n(e,t){function n(r,i,a,s,u){return r instanceof e&&t(r),this instanceof n?new o(r,i,a,s,u):o.apply(this,arguments)}var r=e.DefaultConfig,o=r.abrController;if("function"==typeof o){for(var i in o)n[i]=o[i];n.prototype=o.prototype,n.prototype.constructor=o,r.abrController=n,e.DefaultConfig=r}}e.exports=n},function(e,t,n){"use strict";function r(e){l.info("Initializing Hls.js plugin");var t=window.peer5;return t.HlsJsLoader=d,t.getConfig("DISABLE_PLUGINS")||t.getConfig("DISABLE_UNSUPPORTED")&&!t.isSupported()?void l.warn("Aborting Hls.js plugin initialization because Peer5 is not supported or disabled"):t.getConfig("FORCE_XHR_PLUGIN")?void f({vendor:"forced-xhr"}):(s(window.Hls),c(window.Hls,function(e){var t=a("videoTag");u(window.Hls,e,t.onEvent)}),i({vendor:e&&e.vendor}),void l.info("Finished Hls.js plugin initialization"))}var o=n(6),i=n(12),a=n(7),s=n(34),u=n(35),c=n(45),d=n(31),l=n(8)(),f=n(30);e.exports=function(e){o({onConditionsMet:function(){r(e)},globalsCondition:["peer5","Hls"]})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(46)({vendor:"hlsjs"})}]);